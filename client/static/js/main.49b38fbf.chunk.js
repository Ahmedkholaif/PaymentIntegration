(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,a){e.exports=a(65)},39:function(e,t,a){},40:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(28),l=a.n(r),o=(a(39),a(40),a(10)),s=a(1),i=a.n(s),u=a(4),m=a(11),d=a(6),p=a.n(d),f=Object(n.createContext)({}),E=function(e){var t=Object(n.useState)([]),a=Object(m.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(r.length),s=Object(m.a)(o,2),d=s[0],E=s[1];Object(n.useEffect)(function(){(function(){var e=Object(u.a)(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("/api/Customers/5d3ea7a3489ac61c3c0fdb60/shopcartcount?access_token=DEJRwPxxJ6sKLaBVj78Ag9d2ydx2uJ6FJonWtsmBeHgLklM8GZGaPro52K7ZQ4gd");case 3:t=e.sent,console.log(t),a=t.data.count,E(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])}));return function(){return e.apply(this,arguments)}})()(),console.log("fetch")},[]);var v={cart:r,setCart:l,cartCount:d,setCartCount:E};return console.log("object"),c.a.createElement(f.Provider,{value:v},e.children)};function v(){var e=Object(n.useContext)(f).cartCount;return c.a.createElement("div",null,c.a.createElement("nav",{className:"nav-fixed blue mb-2"},c.a.createElement("div",{className:"nav-wrapper"},c.a.createElement("a",{href:"/",className:"brand-logo left"}," Payments"),c.a.createElement("ul",{id:"sidenav",className:"right hide-on-small-only"},c.a.createElement("li",null,c.a.createElement(o.b,{to:"/cart"}," ",c.a.createElement("i",{className:"fa fa-shopping-cart","aria-hidden":"true"}),e)),c.a.createElement("li",null,c.a.createElement(o.b,{to:"/"}," ",c.a.createElement("i",{className:"fa fa-users"})," Products ")," "),c.a.createElement("li",null,c.a.createElement(o.b,{to:"/about"}," ",c.a.createElement("i",{className:"fa fa-info"})," About ")," ")))))}var b=a(9),g=a(32),h=a(31),x=(a(63),function(e){var t=Object(n.useContext)(f).setCartCount,a=Object(h.a)({},e.product);return c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-image"},c.a.createElement("button",{onClick:Object(u.a)(i.a.mark(function e(){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("/api/Customers/5d3ea7a3489ac61c3c0fdb60/addtocart?access_token=DEJRwPxxJ6sKLaBVj78Ag9d2ydx2uJ6FJonWtsmBeHgLklM8GZGaPro52K7ZQ4gd",{productId:a.id,quantity:1});case 3:200===(n=e.sent).status&&t(n.data.cartCount),console.log(n.statusText),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),className:"btn-floating halfway-fab waves-effect waves-light red"},c.a.createElement("i",{className:"material-icons"},"add")),c.a.createElement("img",{src:a.img,alt:"img",width:"50px",height:"100px"})),c.a.createElement("div",{className:"card-content"},c.a.createElement("h4",null,a.name),c.a.createElement("h5",null,a.price)))}),w=(a(64),function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(0),o=Object(m.a)(l,2),s=o[0],d=o[1],f=Object(n.useState)(0),E=Object(m.a)(f,2),v=E[0],b=E[1],h=function(){var e=Object(u.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s<v/6)){e.next=5;break}return e.next=3,d(s+1);case 3:return e.next=5,k();case 5:case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(u.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s>0)){e.next=5;break}return e.next=3,d(s-1);case 3:return e.next=5,k();case 5:case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),k=Object(n.useCallback)(Object(u.a)(i.a.mark(function e(){var t,a,n,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/api/products?filter[limit]=".concat(6,"&filter[skip]=").concat(6*s));case 2:return t=e.sent,console.log(t),a=t.data,console.log(a),r(a),e.next=9,p.a.get("/api/products/count");case 9:n=e.sent,c=n.data.count,console.log(c),b(c);case 13:case"end":return e.stop()}},e)})),[s]);return Object(n.useEffect)(function(){k()},[k]),c.a.createElement("div",{className:"container"},v>0?c.a.createElement("div",{className:"products"},a.map(function(e){return c.a.createElement(x,{key:e.id,className:"card",product:e})})):c.a.createElement("div",{className:"loader"},c.a.createElement("div",{className:"preloader-wrapper big active"},c.a.createElement("div",{className:"spinner-layer spinner-blue"},c.a.createElement("div",{className:"circle-clipper left"},c.a.createElement("div",{className:"circle"})),c.a.createElement("div",{className:"gap-patch"},c.a.createElement("div",{className:"circle"})),c.a.createElement("div",{className:"circle-clipper right"},c.a.createElement("div",{className:"circle"}))))),c.a.createElement("ul",{className:"pagination"},c.a.createElement("li",{className:"waves-effect",onClick:w},c.a.createElement("a",{href:"#!"},c.a.createElement("i",{className:"material-icons"},"chevron_left"))),Object(g.a)(Array(Math.floor(v/6)+1)).map(function(e,t){return c.a.createElement("li",{onClick:Object(u.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:k();case 3:case"end":return e.stop()}},e)})),className:s===t?"active waves-effect":"waves-effect",key:t}," ",c.a.createElement("a",{href:"#!"},t+1)," ")}),c.a.createElement("li",{className:"waves-effect",onClick:h},c.a.createElement("a",{href:"#!"},c.a.createElement("i",{className:"material-icons"},"chevron_right")))))});var k=function(){return c.a.createElement("div",{className:"container"},c.a.createElement("h2",null,"My Payment Integration Site"))};var N=function(e){return Object(n.useEffect)(function(){setTimeout(function(){e.history.push("/")},3e3)},[]),setTimeout(function(){return c.a.createElement(b.a,{to:"/"})},3e3),c.a.createElement("div",{className:"container"},c.a.createElement("h2",null,"Thanks For Completing Your Shopping We Hope You've Enjoyed"),c.a.createElement("p",null,"you will be redirected"))},j=a(33);var y=function(){var e=Object(n.useContext)(f),t=e.cart,a=e.setCart,r=e.setCartCount;return e.cartCount,Object(n.useEffect)(function(){!function(){var e=Object(u.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/api/Customers/5d3ea7a3489ac61c3c0fdb60/shopcart?access_token=DEJRwPxxJ6sKLaBVj78Ag9d2ydx2uJ6FJonWtsmBeHgLklM8GZGaPro52K7ZQ4gd");case 2:t=e.sent,console.log(t),n=t.data.cart,a(n);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]),c.a.createElement("div",{className:"container"},c.a.createElement("ul",{className:"collection row",style:{minHeight:"30rem"}},t.length>0?null:c.a.createElement("h4",{style:{position:"absolute",top:"30%",left:"35%"}},"Cart Is Embty "),t.map(function(e){return c.a.createElement("li",{key:e.product.id,className:"collection-item row col-6"},c.a.createElement("img",{src:e.product.img,className:"left col-3",width:"100px",height:"100px",alt:"img"}),c.a.createElement("div",{className:"col-9"},c.a.createElement("h4",{className:"title"},e.product.name,c.a.createElement("span",{className:"right"},c.a.createElement("a",{onClick:Object(u.a)(i.a.mark(function n(){var c;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p.a.put("/api/Customers/5d3ea7a3489ac61c3c0fdb60/editcart?access_token=DEJRwPxxJ6sKLaBVj78Ag9d2ydx2uJ6FJonWtsmBeHgLklM8GZGaPro52K7ZQ4gd",{productId:e.product.id,remove:!0});case 3:if(200!==(c=n.sent).status){n.next=9;break}return n.next=7,a(t.filter(function(t){return t.product.id!==e.product.id}));case 7:return n.next=9,r(c.data.cartCount);case 9:console.log(c),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),console.log(n.t0);case 15:case"end":return n.stop()}},n,null,[[0,12]])})),className:"waves-effect waves-light red"},c.a.createElement("i",{className:"material-icons"},"delete")))),c.a.createElement("p",null,"price : ",e.product.price," ",c.a.createElement("br",null),"quantity : ",c.a.createElement("input",{type:"number",value:e.quantity,min:"1",className:"col-4",onChange:function(n){var c=n.target.value;p.a.put("/api/Customers/5d3ea7a3489ac61c3c0fdb60/editcart?access_token=DEJRwPxxJ6sKLaBVj78Ag9d2ydx2uJ6FJonWtsmBeHgLklM8GZGaPro52K7ZQ4gd",{productId:e.product.id,quantity:c}).then(function(n){200===n.status&&a(t.map(function(t){return t.product.id===e.product.id?Object(j.a)({},t,{quantity:c}):t})),console.log(n)}).catch(function(e){return console.log(e)})}}),c.a.createElement("br",null),"total : ",e.product.price*e.quantity)))})),c.a.createElement("div",null,"Total = ",t.reduce(function(e,t){return e+t.product.price*t.quantity},0)," EGP"),c.a.createElement("a",{onClick:Object(u.a)(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("/api/Customers/5d3ea7a3489ac61c3c0fdb60/generatepayment?access_token=DEJRwPxxJ6sKLaBVj78Ag9d2ydx2uJ6FJonWtsmBeHgLklM8GZGaPro52K7ZQ4gd");case 3:t=e.sent,a=t.data.link,console.log(a),window.location.replace(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,null,[[0,9]])})),className:"waves-effect waves-light btn-large mb-5 ".concat(t.length>0?"tt":"disabled")},c.a.createElement("i",{class:"material-icons left"},"credit_card"),"Proceed To Checkout"))};function C(){return c.a.createElement("main",null,c.a.createElement(b.d,null,c.a.createElement(b.b,{exact:!0,path:"/",component:w}),c.a.createElement(b.b,{exact:!0,path:"/about",component:k}),c.a.createElement(b.b,{exact:!0,path:"/cart",component:y}),c.a.createElement(b.b,{exact:!0,path:"/thanks",render:function(e){return c.a.createElement(N,e)}})))}var O=function(){return c.a.createElement(E,null,c.a.createElement("div",{className:"App"},c.a.createElement(v,null),c.a.createElement("br",null),c.a.createElement(C,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(o.a,null,c.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[34,1,2]]]);
//# sourceMappingURL=main.49b38fbf.chunk.js.map